# 事件的使用

**作用：可以联系两个无关的物体，甚至可以跨场景连接**

* 首先创建一个注册事件的脚本EventHandler

* ==需要单独添加System头文件==

* 注册事件的标准格式

  * ```c#
    public static event Action<参数的类型（可以有多个）> 函数名；//注册事件
    
    public static void Call函数名 （参数的类型+参数名）
    {
        函数名?.Invoke(参数名不加类型)；
    }
    
    
    
    	//例子：
        public static event Action<InventoryLocation, List<InventoryItem>> UpdateInventoryUI;//注册事件
    
        public static void CallUpdateInventoryUI(InventoryLocation location, List<InventoryItem> list)
        {
            UpdateInventoryUI?.Invoke(location, list);//加载事件
        }
    ```

  * 

* 事件函数内容的书写

  *  在需要事件的物体脚本上定义事件的内容

  * ```c#
    private void OnEnable()
    {
        EventHandler.函数名 += On函数名;
    }
    
    private void OnDisable()
    {
        EventHandle.函数名 -= On函数名；
    }
    ```

  * 之后会出现![image-20230626171604543](https://raw.githubusercontent.com/LuoYangSunTian/Image/main/Img/image-20230626171604543.png)

  * 点击小灯泡的自动实现![image-20230626171728887](https://raw.githubusercontent.com/LuoYangSunTian/Image/main/Img/image-20230626171728887.png)

* 事件的调用

  * ```c#
    EventHandler.Call函数名（参数）；
    ```

  * 

​      